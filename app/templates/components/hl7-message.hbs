<div class="helpWrapper">
    <span id="helpButton" class="helpButton">i</span>
</div>
<div class="flexContainer">
    <div class="message">
        <div class="tooltip" id="tooltipWrapper">
            <div id="hl7Message" class="hl7Message">
                <span class="widetooltiptext" id="messageTooltip">HL7 Messages or Errors will display here</span>
                <h2>Change Log</h2>                
                <ul id="changeLog">                                
                   
                </ul>
            </div>
        </div>
        <footer class="hl7Footer" id="hl7Footer"></footer>
        <div class="buttons">
            <button class="tooltip" type=button {{action 'loadMessage'}}>Load
                <span class="tooltiptext">Load an HL7 message from disk</span>
            </button>
            <button class="tooltip" type=button {{action 'downloadMessage'}}>Download
                <span class="tooltiptext">Download the dislayed HL7 message to disk</span>
            </button>
            <label class="tooltip">Word Wrap:
                <span class="tooltiptext">Toggle Word Wrap in the message</span>
                <input disabled class="checkBox" id="wordWrap" type="checkbox" checked={{wordWrap}} onclick={{action "toggleWrap" value="target.checked"
                    }}/>
            </label>
        </div>
    </div>
    <div class="details">
        <div>
            <div class="hl7Details" id="hl7Details">
                <div id="fromMessage"></div>
                <div id="results"></div>
            </div>
        </div>
        <div class="detailsFooter tooltip" id="detailsFooter">
            <input id="hl7Search" class="hl7Search" />
            <button type=button {{action 'findElements'}}>Find</button>
            <span class="tooltiptext">Find and highlight elements in the message by id (e.g. MSH-10) or by value</span>
        </div>
    </div>
</div>
<div class="replaceModal" id="replaceModal">
    <div class="modalHeader" id="replaceHeader">
        <h3>Replace</h3>
    </div>
    <div class="modalBody">Body Placeholder</div>
    <div class="modalFooter">
        <button type="button" class="tooltip" {{action 'replaceOne'}} id="replace">Replace
            <span class="tooltiptext">Replace and move on to the next match</span>
        </button>
        <button type="button" class="tooltip" {{action 'replaceAll'}} id="replaceAll">Replace All
            <span class="tooltiptext">Replace all matches</span>
        </button>
        <button type="button" class="tooltip" {{action 'skipOne'}} id="skip">Skip
            <span class="tooltiptext">Don't replace and move on to the next match</span>
        </button>
        <button type="button" class="tooltip" {{action 'stopSearch'}} id="stop">Stop
            <span class="tooltiptext">Stop</span>
        </button>
    </div>
</div>
<div class="cancelModal" id="cancelModal">
    <div class="modalHeader" id="cancelHeader">
        <h3>Stop Replace?</h3>
    </div>
    <div class="modalBody">
        Do you want to keep the changes you&apos;ve made so far?
    </div>
    <div class="modalFooter">
        <button type="button" class="tooltip" {{action 'cancelSearch'}} id="cancel">Cancel
            <span class="tooltiptext">Cancel search and restore message</span>
        </button>
        <button type="button" class="tooltip" {{action 'keepReplacements'}} id="keep">Keep
            <span class="tooltiptext">Close and keep changes</span>
        </button>
        <button type="button" class="tooltip" {{action 'continueReplacing'}} id="continue">Continue
            <span class="tooltiptext">Close dialog and continue searching</span>
        </button>
    </div>
</div>
<div id="documentationModal" class="documentationModal flexModal">
    <div class="modalHeader" id="documentationHeader">
        <h3>Great Hall HL7 Documentation</h3>
        <button id="closeButton" type="button" class="closeButton"><span>X</span></button>
    </div>
    <div id="docText" class="modalBody">
       
    </div>
</div>

<script> 

    let lastX, lastY;

    document.getElementById('helpButton').onclick = function (e) {
        document.getElementById('documentationModal').style.display = 'flex';
    }

    document.getElementById('closeButton').onclick = function (e) {
        document.getElementById('documentationModal').style.display = 'none';
    }
    let dragReplace = new draggableObject(document.getElementById('replaceHeader'));
    dragReplace.makeDraggable();
    let dragDoc = new draggableObject(document.getElementById('documentationHeader'));
    dragDoc.makeDraggable();
    let dragCancel = new draggableObject(document.getElementById('cancelHeader'));
    dragCancel.makeDraggable();
    
</script>